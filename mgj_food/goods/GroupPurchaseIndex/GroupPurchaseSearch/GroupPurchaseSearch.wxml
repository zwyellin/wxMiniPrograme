<!--goods/GroupPurchaseIndex/GroupPurchaseSearch/GroupPurchaseSearch.wxml-->

<view class="container page" style="background:white">
    <!-- 搜索条 -->
    <view class="pageItem flex flex-row-center" style="padding-bottom:60rpx;">
        <!-- 搜索框 -->
        <view class="flex flex-row-center flex1 box-sizing-box" style="border-radius:30rpx;height:70rpx;line-height:70rpx;background:#f0f0f0">
            <image class="flex0" src="../../../images/images/search.png"  style="width:28rpx;height:28rpx;padding-left:20rpx;" />
            <input class="flex1" placeholder="输入你想搜的内容" placeholder-style="font-size:28rpx;color:#999" style="margin:0 20rpx;font-size:28rpx;" 
            confirm-type="search" focus="{{isSearchInputFocus}}"
            value="{{searchInputValue}}" bindinput="searchInputOutValue" />
        </view>
        <!-- 搜索按钮 -->
        <view class="flex0" style="padding:0 20rpx;" catch:tap="searchSubmit">
            <text style="font-size:28rpx;color:#ff9900;font-weight:bold;line-height:70rpx;">搜索</text>
        </view>
    </view>

    <!-- 板块，内容1（推荐，历史搜索） -->
    <view wx:if="{{recommendPageShow}}" class="pageItem">
        <!-- 推荐搜索标题 -->
        <block wx:if="{{recommendSearch.length}}">
            <view>
                <image src="../../../images/images/zan1.png" style="width:40rpx;height:40rpx;padding-right:10rpx;"/>
                <text style="font-size:34rpx;color:#333;font-weight:bold">推荐搜索</text>
            </view>
            <!-- 推荐内容 -->
            <view class="flex" style="flex-wrap:wrap;margin-top:30rpx">
                <view wx:for="{{recommendSearch}}" wx:key="index" data-content="{{item}}" catch:tap="recommendSearchItemTap"
                class="box-sizing-box border-radius4 recommendSearchItem" >
                {{item}}</view>
            </view>
        </block>
         <!-- 历史搜索 -->
        <block wx:if="{{historyRecord.length}}">
            <view class="mt30">
                <!-- 标题 -->
                <text style="font-size:28rpx;color:#999;">历史搜索</text>
                <!-- 内容 -->
                <view class="flex" style="flex-wrap:wrap;margin-top:30rpx;margin-bottom:90rpx">
                    <view wx:for="{{historyRecord}}" wx:key="index" class="box-sizing-box border-radius4 recommendSearchItem" >
                    {{item}}</view>
                </view>
                <!--清空历史搜索  -->
                <view style="padding-bottom:40rpx;text-align:center;" catch:tap="RecordDel">  
                    <text style="font-size:24rpx;color:#666;display:inline-block;padding:20rpx;">清空历史搜索</text>
                </view>
            </view>
        </block>
    </view>
    <!-- 板块2，搜索列表 -->
    <view wx:else> 
          <groupPurchaseItem wx:for="{{merchantBySearchList}}" wx:key="index" itemObj="{{item}}" ></groupPurchaseItem>
    </view>
</view>
